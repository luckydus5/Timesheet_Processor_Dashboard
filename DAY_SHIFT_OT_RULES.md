# ğŸ“‹ Day Shift Overtime Rules - Visual Guide

## â° Day Shift Overtime Qualification

### Rule Summary
For **Day Shift** employees, overtime calculation follows these rules:

1. **Standard Work Hours:** 08:00 AM - 17:00 PM
2. **Early Check-In Allowed:** Can check in before 08:00 AM (e.g., 07:00 AM)
3. **All Hours Counted:** Total hours = check-out minus check-in
4. **NO Early Overtime:** Arriving before 08:00 AM does NOT earn overtime
5. **OT Start Time:** 17:00 PM (5:00 PM) **ONLY**
6. **Minimum Requirement:** Must work **at least 30 minutes AFTER 17:00**
7. **Maximum OT:** 1.5 hours per shift

---

## ğŸ“Š Visual Timeline

```
     Can check in early                Standard Day Shift Hours
     (no early OT)                     (08:00 AM - 17:00 PM)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚     â”‚                                          â”‚
07:00 AM  08:00 AM                                      17:00 PM
   â†‘        â†‘                                               â†‘
   â”‚        â”‚                                         OT STARTS HERE
   â”‚        â””â”€â”€ Work counted from here                (ONLY AFTER 17:00)
   â””â”€â”€ Early check-in OK (all hours counted, NO early OT)
```

### Overtime Qualification Zone
```
17:00 PM                    17:30 PM                    18:30 PM
   â”‚                           â”‚                           â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚   NO OVERTIME ZONE        â”‚    OVERTIME ZONE          â”‚
   â”‚   (0-29 minutes)          â”‚    (30 min - 1.5 hours)   â”‚
   â”‚   âŒ Below minimum        â”‚    âœ… Qualifies for OT    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… Examples: When Overtime is EARNED

### Example 1: Early Check-In + OT
```
Check-In:  07:00 AM (Early arrival)
Check-Out: 17:30 PM

Work Duration: 10.5 hours (ALL counted)
Regular Hours: 10.0 hours
OT Calculation: 17:30 - 17:00 = 0.5 hours (30 minutes)
OT Earned: 0.5 hours âœ…

Note: Early check-in at 07:00 is counted but does NOT earn overtime.
      Overtime ONLY after 17:00 PM.
```

### Example 2: Standard Shift + Minimum OT
```
Check-In:  08:00 AM
Check-Out: 17:30 PM

Work Duration: 9.5 hours
OT Calculation: 17:30 - 17:00 = 0.5 hours (30 minutes)
OT Earned: 0.5 hours âœ…
```

### Example 2: 1 Hour Overtime
```
Check-In:  08:00 AM
Check-Out: 18:00 PM

Work Duration: 10 hours
OT Calculation: 18:00 - 17:00 = 1.0 hour
OT Earned: 1.0 hours âœ…
```

### Example 3: Maximum Overtime (1.5 hours)
```
Check-In:  08:00 AM
Check-Out: 18:30 PM

Work Duration: 10.5 hours
OT Calculation: 18:30 - 17:00 = 1.5 hours
OT Earned: 1.5 hours âœ… (Maximum reached)
```

### Example 4: Beyond Maximum (Capped)
```
Check-In:  08:00 AM
Check-Out: 19:00 PM

Work Duration: 11 hours
OT Calculation: 19:00 - 17:00 = 2.0 hours
OT Earned: 1.5 hours âœ… (Capped at maximum)
```

---

## âŒ Examples: When Overtime is NOT EARNED

### Example 5: Early Check-In, Finish at 17:00 (NO OT)
```
Check-In:  07:00 AM (Early arrival)
Check-Out: 17:00 PM

Work Duration: 10 hours (ALL counted)
OT Calculation: 17:00 - 17:00 = 0 hours
OT Earned: 0 hours âŒ (No overtime - must work AFTER 17:00)

Note: Employee worked 10 hours total, but NO overtime because
      they finished exactly at 17:00. Early arrival does NOT earn OT.
```

### Example 6: Standard Shift, Finish at 17:00
```
Check-In:  08:00 AM
Check-Out: 17:00 PM

Work Duration: 9 hours
OT Calculation: 17:00 - 17:00 = 0 hours
OT Earned: 0 hours âŒ (No overtime)
```

### Example 6: Finished Before 17:00
```
Check-In:  08:00 AM
Check-Out: 16:45 PM

Work Duration: 8.75 hours
OT Calculation: Not applicable (ended before 17:00)
OT Earned: 0 hours âŒ (No overtime)
```

### Example 7: Below 30-Minute Minimum (25 minutes)
```
Check-In:  08:00 AM
Check-Out: 17:25 PM

Work Duration: 9.42 hours
OT Calculation: 17:25 - 17:00 = 0.42 hours (25 minutes)
OT Earned: 0 hours âŒ (Below 30-minute minimum)
```

### Example 8: Below 30-Minute Minimum (29 minutes)
```
Check-In:  08:00 AM
Check-Out: 17:29 PM

Work Duration: 9.48 hours
OT Calculation: 17:29 - 17:00 = 0.48 hours (29 minutes)
OT Earned: 0 hours âŒ (Below 30-minute minimum)
```

---

## ğŸ“ˆ Overtime Earning Chart

```
End Time    â”‚ Minutes After 17:00 â”‚ OT Earned â”‚ Status
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
16:50       â”‚ -10 (before)        â”‚ 0.0 h     â”‚ âŒ No OT
17:00       â”‚ 0                   â”‚ 0.0 h     â”‚ âŒ No OT
17:15       â”‚ 15                  â”‚ 0.0 h     â”‚ âŒ Below min
17:29       â”‚ 29                  â”‚ 0.0 h     â”‚ âŒ Below min
17:30       â”‚ 30                  â”‚ 0.5 h     â”‚ âœ… Minimum met
17:45       â”‚ 45                  â”‚ 0.75 h    â”‚ âœ… OT earned
18:00       â”‚ 60                  â”‚ 1.0 h     â”‚ âœ… OT earned
18:15       â”‚ 75                  â”‚ 1.25 h    â”‚ âœ… OT earned
18:30       â”‚ 90                  â”‚ 1.5 h     â”‚ âœ… Max reached
18:45       â”‚ 105                 â”‚ 1.5 h     â”‚ âœ… Capped at max
19:00       â”‚ 120                 â”‚ 1.5 h     â”‚ âœ… Capped at max
```

---

## ğŸ¯ Quick Reference

### The 30-Minute Rule
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  To earn ANY overtime on day shift:         â”‚
â”‚                                              â”‚
â”‚  âœ… Must finish work AFTER 17:00            â”‚
â”‚  âœ… Must work AT LEAST 30 minutes after     â”‚
â”‚                                              â”‚
â”‚  17:00 to 17:29 = NO OVERTIME âŒ            â”‚
â”‚  17:00 to 17:30 = 0.5h OVERTIME âœ…          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Calculation Formula
```python
if end_time > 17:00:
    ot_minutes = (end_time - 17:00) in minutes
    
    if ot_minutes >= 30:
        ot_hours = min(1.5, ot_minutes / 60)
    else:
        ot_hours = 0  # Below minimum
else:
    ot_hours = 0  # No overtime
```

---

## ğŸ’¡ Important Notes

### Why the 30-Minute Minimum?
- Prevents overtime for very short periods
- Ensures meaningful overtime work
- Standard industry practice
- Reduces administrative overhead

### Why the 1.5-Hour Maximum?
- Controls overtime costs
- Encourages work-life balance
- Prevents excessive hours
- Aligns with business policies

### What About Breaks?
- Breaks are **NOT automatically deducted**
- OT is calculated based on check-in/check-out times
- Break time must be handled in raw data or manually

---

## ğŸ“Š Payroll Examples

### Scenario 1: Normal Day + Small OT
```
Employee: John Doe
Check-In: 08:00 AM
Check-Out: 17:45 PM

Regular Hours: 9 hours (08:00 - 17:00)
Overtime: 0.75 hours (17:00 - 17:45)
Total Hours: 9.75 hours

Payroll:
- Regular Pay: 9 hours Ã— $20/hr = $180
- OT Pay (1.5x): 0.75 hours Ã— $30/hr = $22.50
- Total: $202.50
```

### Scenario 2: Normal Day + Maximum OT
```
Employee: Jane Smith
Check-In: 08:00 AM
Check-Out: 18:30 PM

Regular Hours: 9 hours (08:00 - 17:00)
Overtime: 1.5 hours (17:00 - 18:30, capped)
Total Hours: 10.5 hours

Payroll:
- Regular Pay: 9 hours Ã— $20/hr = $180
- OT Pay (1.5x): 1.5 hours Ã— $30/hr = $45
- Total: $225
```

### Scenario 3: Below Minimum (No OT)
```
Employee: Bob Wilson
Check-In: 08:00 AM
Check-Out: 17:25 PM

Regular Hours: 9 hours (08:00 - 17:00)
Overtime: 0 hours (25 min is below 30 min minimum)
Total Hours: 9.42 hours (but only 9h paid as regular + no OT)

Payroll:
- Regular Pay: 9.42 hours Ã— $20/hr = $188.40
- OT Pay: $0 (below minimum)
- Total: $188.40
```

---

## ğŸ” How System Detects This

### Code Logic
```python
# From timesheet_dashboard.py line 284-296

if shift_type == "Day Shift":
    # Day shift overtime only after 17:00 PM
    end_decimal = end_time.hour + end_time.minute / 60
    
    if end_decimal > 17.0:  # After 5:00 PM
        overtime = end_decimal - 17.0  # Hours after 17:00
        
        # Apply day shift rules
        if overtime < 0.5:  # Less than 30 minutes
            overtime = 0  # NO OVERTIME
        elif overtime > 1.5:  # More than 1.5 hours
            overtime = 1.5  # CAP at maximum
```

---

## âœ… Summary

### Day Shift OT Rules (Quick Checklist)
- [ ] Employee must be on **Day Shift** (check-in < 16:10)
- [ ] Employee must finish **after 17:00 PM**
- [ ] Employee must work **â‰¥30 minutes after 17:00**
- [ ] Maximum OT is **1.5 hours** per shift
- [ ] OT is calculated from **17:00**, not from start time

### When OT is Earned:
âœ… End time â‰¥ 17:30 and â‰¤ 18:30 â†’ Full OT calculation
âœ… End time > 18:30 â†’ OT capped at 1.5 hours

### When OT is NOT Earned:
âŒ End time â‰¤ 17:00 â†’ No overtime
âŒ End time between 17:01 and 17:29 â†’ Below minimum, no overtime

---

**Document Version:** 1.0  
**Last Updated:** November 5, 2025  
**Author:** Timesheet Consolidator System
